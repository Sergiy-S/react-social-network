{"version":3,"sources":["api/api.js","assets/img/preloader.svg","components/Users/Users.module.css","assets/img/user.svg","components/Navbar/Navbar.module.css","hoc/withAuthRedirect.js","serviceWorker.js","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","components/Navbar/Navbar.jsx","utils/object-helper.js","redux/users-reducer.js","redux/users-selectors.js","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","components/Users/UsersContainer.jsx","redux/app-reducer.js","redux/redux-store.js","hoc/withSuspense.js","App.js","index.js","components/common/FormsControls/FormControls.jsx","components/common/Preloader/Preloader.js","components/common/FormsControls/FormControls.module.css","components/common/Paginator/Paginator.module.css","utils/validators/validators.js","redux/dialogs-reducer.js","components/Header/Header.module.css","redux/profile-reducer.js"],"names":["__webpack_require__","d","__webpack_exports__","usersAPI","profileAPI","authAPI","axios__WEBPACK_IMPORTED_MODULE_0__","instance","n","axios","create","withCredentials","baseURL","headers","API-KEY","getUsers","currentPage","arguments","length","undefined","pageSize","get","concat","then","response","data","follow","userId","post","unfollow","delete","getProfile","getStatus","updateStatus","status","put","me","login","email","password","remember_me","logout","module","exports","p","user_photo","nav","item","activeLink","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","_React$Component","Object","C_work_react_social_network_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","C_work_react_social_network_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_work_react_social_network_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","apply","C_work_react_social_network_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","C_work_react_social_network_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","value","props","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","react_router_dom__WEBPACK_IMPORTED_MODULE_7__","to","React","connect","Boolean","window","location","hostname","match","Header","react_default","className","s","header","src","alt","login_block","onClick","react_router_dom","initialState","id","isFetching","setAuthUserData","type","payload","getAuthUserData","_ref","asyncToGenerator","regenerator_default","mark","_callee","dispatch","_response$data$data","_login","wrap","_context","prev","next","sent","resultCode","stop","_x","authReducer","action","objectSpread","HeaderContainer","components_Header_Header","_ref3","_callee3","_context3","_x3","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","createField","required","Input","style","form_summary_error","_ref2","_callee2","message","_context2","messages","stopSubmit","_error","_x2","react_router","form_data","console","log","Navbar","activeClassName","active","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","users","totalUsersCount","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","_x4","_x5","usersReducer","followed","count","toConsumableArray","filter","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","Paginator","totalItemsCount","onPageChanged","_ref$portionSize","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","_useState","useState","_useState2","slicedToArray","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","cn","defineProperty","selectedPage","pageNumber","e","User","user","photos","small","userPhoto","name","disabled","some","Users","objectWithoutProperties","common_Paginator_Paginator","Users_User","UsersContainer","_this","requestUsers","_this$props","Fragment","Preloader","components_Users_Users","compose","page","totalCount","bind","_x6","_ref4","_callee4","_context4","_x7","initialized","appReducer","reducers","combineReducers","app","profilePage","profileReducer","dialogsPage","dialogsReducer","sidebar","sidebarReducer","formReducer","middleware","logger","thunkMiddleware","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","Header_HeaderContainer","components_Navbar_Navbar","path","render","Users_UsersContainer","components_Login_Login","AppContainer","withRouter","promise","Promise","all","SamuraiJSApp","es","ReactDOM","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister","FormControl","input","_ref$meta","meta","touched","children","has_error","element","C_work_react_social_network_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1___default","form_control","Textarea","restProps","assign","placeholder","validators","component","text","redux_form__WEBPACK_IMPORTED_MODULE_2__","validate","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","_assets_img_preloader_svg__WEBPACK_IMPORTED_MODULE_1__","_assets_img_preloader_svg__WEBPACK_IMPORTED_MODULE_1___default","preloader","maxLengthCreator","maxLength","dialogs","sendMessageCreator","newMessageBody","body","C_work_react_social_network_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","C_work_react_social_network_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","posts","likesCount","profile","addPostActionCreator","newPostText","setStatus","getUserProfile","C_work_react_social_network_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_work_react_social_network_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","newPost","C_work_react_social_network_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_3__","C_work_react_social_network_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__","post_id"],"mappings":"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","file":"static/js/main.90a10e4a.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n  headers: {\r\n    \"API-KEY\": \"845a71ab-6e12-4c89-8741-274f10270ac2\"\r\n  }\r\n});\r\n\r\nexport const usersAPI = {\r\n  getUsers(currentPage = 1, pageSize = 10) {\r\n    return instance\r\n      .get(`users?page=${currentPage}&count=${pageSize}`)\r\n      .then(response => {\r\n        return response.data;\r\n      });\r\n  },\r\n  follow(userId) {\r\n    return instance.post(`follow/${userId}`);\r\n  },\r\n  unfollow(userId) {\r\n    return instance.delete(`follow/${userId}`);\r\n  }\r\n};\r\n\r\nexport const profileAPI = {\r\n  getProfile(userId) {\r\n    return instance.get(`profile/${userId}`);\r\n  },\r\n  getStatus(userId) {\r\n    return instance.get(`profile/status/${userId}`);\r\n  },\r\n  updateStatus(status) {\r\n    return instance.put(`profile/status`, { status: status });\r\n  }\r\n};\r\n\r\nexport const authAPI = {\r\n  me() {\r\n    return instance.get(`auth/me`);\r\n  },\r\n  login(email, password, remember_me = false) {\r\n    return instance.post(`auth/login`, { email, password, remember_me });\r\n  },\r\n  logout() {\r\n    return instance.delete(`auth/login`);\r\n  }\r\n};\r\n","module.exports = __webpack_public_path__ + \"static/media/preloader.5f17fd9e.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user_photo\":\"Users_user_photo__2_L7n\"};","module.exports = __webpack_public_path__ + \"static/media/user.efe01b90.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1LxTG\",\"item\":\"Navbar_item__O5KH8\",\"activeLink\":\"Navbar_activeLink__4eats\"};","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nlet mapStateToPropsForRedirect = state => ({\r\n  isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = Component => {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Redirect to={\"/login\"} />;\r\n      return <Component {...this.props} />;\r\n    }\r\n  }\r\n\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(\r\n    RedirectComponent\r\n  );\r\n\r\n  return ConnectedAuthRedirectComponent;\r\n};\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport s from \"./Header.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Header = props => {\r\n  return (\r\n    <header className={s.header}>\r\n      <img\r\n        src=\"https://www.freelogodesign.org/Content/img/logo-ex-7.png\"\r\n        alt=\"\"\r\n      />\r\n      <div className={s.login_block}>\r\n        {props.isAuth ? (\r\n          <div>\r\n            {props.login} - <button onClick={props.logout}>Log out</button>\r\n          </div>\r\n        ) : (\r\n          <NavLink to={\"/login\"}>Login</NavLink>\r\n        )}\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import { authAPI } from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nconst SET_USER_DATA = \"samurai-network/auth/SET_USER_DATA\";\r\n\r\nlet initialState = {\r\n  id: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  isFetching: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.payload\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n  type: SET_USER_DATA,\r\n  payload: { userId, email, login, isAuth }\r\n});\r\n\r\nexport const getAuthUserData = () => async dispatch => {\r\n  let response = await authAPI.me();\r\n  if (response.data.resultCode === 0) {\r\n    let { id, email, login } = response.data.data;\r\n    dispatch(setAuthUserData(id, email, login, true));\r\n  }\r\n};\r\n\r\nexport const login = (email, password, remember_me) => async dispatch => {\r\n  let response = await authAPI.login(email, password, remember_me);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(getAuthUserData());\r\n  } else {\r\n    let message = response.data.messages.length\r\n      ? response.data.messages[0]\r\n      : \"Some error\";\r\n    dispatch(stopSubmit(\"login\", { _error: message }));\r\n  }\r\n};\r\n\r\nexport const logout = () => async dispatch => {\r\n  let response = await authAPI.logout();\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setAuthUserData(null, null, null, false));\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","import React, { Component } from \"react\";\r\nimport Header from \"./Header\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends Component {\r\n  render() {\r\n    return <Header {...this.props} />;\r\n  }\r\n}\r\nconst mapStateToProps = state => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { logout }\r\n)(HeaderContainer);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { login } from \"../../redux/auth-reducer\";\r\nimport { required } from \"../../utils/validators/validators\";\r\nimport { Input, createField } from \"../common/FormsControls/FormControls\";\r\nimport style from \"../common/FormsControls/FormControls.module.css\";\r\n\r\nconst LoginForm = ({ handleSubmit, error }) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      {createField(\"Email\", \"email\", [required], Input)}\r\n      {createField(\"Password\", \"password\", [required], Input, {\r\n        type: \"password\"\r\n      })}\r\n      {createField(\r\n        null,\r\n        \"remember_me\",\r\n        [],\r\n        Input,\r\n        { type: \"checkbox\" },\r\n        \"remember me\"\r\n      )}\r\n\r\n      {error && <div className={style.form_summary_error}>{error}</div>}\r\n      <div>\r\n        <button>Login</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nlet LoginReduxForm = reduxForm({\r\n  form: \"login\"\r\n})(LoginForm);\r\n\r\nconst Login = props => {\r\n  const onSubmit = form_data => {\r\n    props.login(form_data.email, form_data.password, form_data.remember_me);\r\n    console.log(form_data);\r\n  };\r\n\r\n  if (props.isAuth) {\r\n    return <Redirect to={\"/profile\"} />;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>LOGIN</h1>\r\n      <LoginReduxForm onSubmit={onSubmit} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuth: state.auth.isAuth\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { login }\r\n)(Login);\r\n","import React from \"react\";\r\nimport s from \"./Navbar.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className={s.nav}>\r\n      <div className={s.item}>\r\n        <NavLink to=\"/profile\" activeClassName={s.activeLink}>\r\n          Profile\r\n        </NavLink>\r\n      </div>\r\n      <div className={`${s.item} ${s.active}`}>\r\n        <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>\r\n          Messages\r\n        </NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to=\"/users\" activeClassName={s.activeLink}>\r\n          Users\r\n        </NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to=\"/news\" activeClassName={s.activeLink}>\r\n          News\r\n        </NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to=\"/music\" activeClassName={s.activeLink}>\r\n          Music\r\n        </NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to=\"/settings\" activeClassName={s.active}>\r\n          Settings\r\n        </NavLink>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","export const updateObjectInArray = (\r\n  items,\r\n  itemId,\r\n  objPropName,\r\n  newObjProps\r\n) => {\r\n  return items.map(u => {\r\n    if (u[objPropName] === itemId) {\r\n      return { ...u, ...newObjProps };\r\n    }\r\n    return u;\r\n  });\r\n};\r\n","import { usersAPI } from \"../api/api.js\";\r\nimport { updateObjectInArray } from \"../utils/object-helper.js\";\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\";\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 10,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\", {\r\n          followed: true\r\n        })\r\n      };\r\n\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\", {\r\n          followed: false\r\n        })\r\n      };\r\n\r\n    case SET_USERS:\r\n      return { ...state, users: action.users };\r\n\r\n    case SET_CURRENT_PAGE:\r\n      return { ...state, currentPage: action.currentPage };\r\n\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return { ...state, totalUsersCount: action.count };\r\n\r\n    case TOGGLE_IS_FETCHING:\r\n      return { ...state, isFetching: action.isFetching };\r\n\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter(id => id !== action.userId)\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const followSuccess = userId => ({ type: FOLLOW, userId });\r\nexport const unfollowSuccess = userId => ({ type: UNFOLLOW, userId });\r\nexport const setUsers = users => ({ type: SET_USERS, users });\r\nexport const setCurrentPage = currentPage => ({\r\n  type: SET_CURRENT_PAGE,\r\n  currentPage\r\n});\r\nexport const setTotalUsersCount = totalUsersCount => ({\r\n  type: SET_TOTAL_USERS_COUNT,\r\n  count: totalUsersCount\r\n});\r\nexport const toggleIsFetching = isFetching => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  isFetching\r\n});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  isFetching,\r\n  userId\r\n});\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n  return async dispatch => {\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(page));\r\n\r\n    let data = await usersAPI.getUsers(page, pageSize);\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalUsersCount(data.totalCount));\r\n  };\r\n};\r\n\r\nconst followUnfollowFlow = async (\r\n  dispatch,\r\n  userId,\r\n  apiMethod,\r\n  actionCreator\r\n) => {\r\n  dispatch(toggleFollowingProgress(true, userId));\r\n  let response = await apiMethod(userId);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(actionCreator(userId));\r\n  }\r\n  dispatch(toggleFollowingProgress(false, userId));\r\n};\r\n\r\n// ThunkCreator\r\nexport const follow = userId => {\r\n  return async dispatch => {\r\n    followUnfollowFlow(\r\n      dispatch,\r\n      userId,\r\n      usersAPI.follow.bind(usersAPI),\r\n      followSuccess\r\n    );\r\n  };\r\n};\r\n\r\n// ThunkCreator\r\nexport const unfollow = userId => {\r\n  return async dispatch => {\r\n    followUnfollowFlow(\r\n      dispatch,\r\n      userId,\r\n      usersAPI.unfollow.bind(usersAPI),\r\n      unfollowSuccess\r\n    );\r\n  };\r\n};\r\n\r\nexport default usersReducer;\r\n","import { createSelector } from \"reselect\";\r\n\r\nconst getUsersSelector = state => {\r\n  return state.usersPage.users;\r\n};\r\n\r\nexport const getUsers = createSelector(\r\n  getUsersSelector,\r\n  users => {\r\n    return users.filter(u => true);\r\n  }\r\n);\r\n\r\nexport const getPageSize = state => {\r\n  return state.usersPage.pageSize;\r\n};\r\n\r\nexport const getTotalUsersCount = state => {\r\n  return state.usersPage.totalUsersCount;\r\n};\r\n\r\nexport const getCurrentPage = state => {\r\n  return state.usersPage.currentPage;\r\n};\r\n\r\nexport const getIsFetching = state => {\r\n  return state.usersPage.isFetching;\r\n};\r\n\r\nexport const getFollowingInProgress = state => {\r\n  return state.usersPage.followingInProgress;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport styles from \"./Paginator.module.css\";\r\nimport cn from \"classnames\";\r\n\r\nconst Paginator = ({\r\n  totalItemsCount,\r\n  pageSize,\r\n  currentPage,\r\n  onPageChanged,\r\n  portionSize = 10\r\n}) => {\r\n  console.log(totalItemsCount);\r\n  console.log(pageSize);\r\n  console.log(currentPage);\r\n  console.log(onPageChanged);\r\n\r\n  let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  let portionCount = Math.ceil(pagesCount / portionSize);\r\n  let [portionNumber, setPortionNumber] = useState(1);\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n  return (\r\n    <div className={styles.paginator}>\r\n      {portionNumber > 1 && (\r\n        <button\r\n          onClick={() => {\r\n            setPortionNumber(portionNumber - 1);\r\n          }}\r\n        >\r\n          PREV\r\n        </button>\r\n      )}\r\n      {pages\r\n        .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n        .map(p => {\r\n          return (\r\n            <span\r\n              className={cn(\r\n                { [styles.selectedPage]: currentPage === p },\r\n                styles.pageNumber\r\n              )}\r\n              key={p}\r\n              onClick={e => {\r\n                onPageChanged(p);\r\n              }}\r\n            >\r\n              {p}\r\n            </span>\r\n          );\r\n        })}\r\n      {portionCount > portionNumber && (\r\n        <button\r\n          onClick={() => {\r\n            setPortionNumber(portionNumber + 1);\r\n          }}\r\n        >\r\n          NEXT\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Paginator;\r\n","import React from \"react\";\r\nimport styles from \"./Users.module.css\";\r\nimport userPhoto from \"../../assets/img/user.svg\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst User = ({ user, followingInProgress, unfollow, follow }) => {\r\n  return (\r\n    <div>\r\n      <span>\r\n        <div>\r\n          <NavLink to={`/profile/${user.id}`}>\r\n            <img\r\n              src={user.photos.small !== null ? user.photos.small : userPhoto}\r\n              className={styles.user_photo}\r\n              alt={user.name}\r\n            />\r\n          </NavLink>\r\n        </div>\r\n        <div>\r\n          {user.followed ? (\r\n            <button\r\n              disabled={followingInProgress.some(id => id === user.id)}\r\n              onClick={() => {\r\n                unfollow(user.id);\r\n              }}\r\n            >\r\n              Unfollow\r\n            </button>\r\n          ) : (\r\n            <button\r\n              disabled={followingInProgress.some(id => id === user.id)}\r\n              onClick={() => {\r\n                follow(user.id);\r\n              }}\r\n            >\r\n              Follow\r\n            </button>\r\n          )}\r\n        </div>\r\n      </span>\r\n      <span>\r\n        <span>\r\n          <div>{user.name}</div>\r\n          <div>{user.status}</div>\r\n        </span>\r\n        <span>\r\n          <div>{\"user.location.country\"}</div>\r\n          <div>{\"user.location.city\"}</div>\r\n        </span>\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import React from \"react\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nconst Users = ({\r\n  currentPage,\r\n  totalUsersCount,\r\n  pageSize,\r\n  onPageChanged,\r\n  users,\r\n  ...props\r\n}) => {\r\n  return (\r\n    <div>\r\n      <Paginator\r\n        currentPage={currentPage}\r\n        onPageChanged={onPageChanged}\r\n        totalItemsCount={totalUsersCount}\r\n        pageSize={pageSize}\r\n      />\r\n      <div>\r\n        {users.map(u => (\r\n          <User\r\n            user={u}\r\n            key={u.id}\r\n            followingInProgress={props.followingInProgress}\r\n            unfollow={props.unfollow}\r\n            follow={props.follow}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","import React from \"react\";\r\nimport {\r\n  requestUsers,\r\n  follow,\r\n  unfollow,\r\n  setCurrentPage\r\n} from \"../../redux/users-reducer\";\r\nimport {\r\n  getUsers,\r\n  getPageSize,\r\n  getTotalUsersCount,\r\n  getCurrentPage,\r\n  getIsFetching,\r\n  getFollowingInProgress\r\n} from \"../../redux/users-selectors\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    let { currentPage, pageSize } = this.props;\r\n    this.props.requestUsers(currentPage, pageSize);\r\n  }\r\n\r\n  onPageChanged = pageNumber => {\r\n    let { pageSize } = this.props;\r\n    this.props.requestUsers(pageNumber, pageSize);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.isFetching ? <Preloader /> : null}\r\n        <Users\r\n          totalUsersCount={this.props.totalUsersCount}\r\n          pageSize={this.props.pageSize}\r\n          currentPage={this.props.currentPage}\r\n          onPageChanged={this.onPageChanged}\r\n          users={this.props.users}\r\n          follow={this.props.follow}\r\n          unfollow={this.props.unfollow}\r\n          followingInProgress={this.props.followingInProgress}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nlet mapStateToProps = state => {\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state)\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(\r\n    mapStateToProps,\r\n    {\r\n      requestUsers,\r\n      follow,\r\n      unfollow,\r\n      setCurrentPage\r\n    }\r\n  )\r\n  // withAuthRedirect\r\n)(UsersContainer);\r\n","import { authAPI } from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\nimport { getAuthUserData } from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\";\r\n\r\nlet initialState = {\r\n  initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const initializedSuccess = () => ({\r\n  type: INITIALIZED_SUCCESS\r\n});\r\n\r\nexport const initializeApp = () => dispatch => {\r\n  let promise = dispatch(getAuthUserData());\r\n\r\n  Promise.all([promise]).then(() => {\r\n    dispatch(initializedSuccess());\r\n  });\r\n};\r\n\r\nexport default appReducer;\r\n","import { applyMiddleware, combineReducers, compose, createStore } from \"redux\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport logger from \"redux-logger\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport appReducer from \"./app-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport {\r\n  default as dialogsReducer,\r\n  default as sidebarReducer\r\n} from \"./dialogs-reducer\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n  app: appReducer,\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  sidebar: sidebarReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer\r\n});\r\n\r\nconst middleware = [logger, thunkMiddleware];\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  reducers,\r\n  composeEnhancers(applyMiddleware(...middleware))\r\n);\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport Preloader from \"../components/common/Preloader/Preloader\";\r\n\r\nconst withSuspense = Component => {\r\n  return props => {\r\n    return (\r\n      <React.Suspense fallback={<Preloader />}>\r\n        <Component {...props} />\r\n      </React.Suspense>\r\n    );\r\n  };\r\n};\r\n\r\nexport default withSuspense;\r\n","import React, { Component } from \"react\";\r\nimport { connect, Provider } from \"react-redux\";\r\nimport { HashRouter, Route, withRouter } from \"react-router-dom\";\r\nimport { compose } from \"redux\";\r\nimport \"./App.css\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport LoginPage from \"./components/Login/Login\";\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport { initializeApp } from \"./redux/app-reducer\";\r\nimport store from \"./redux/redux-store\";\r\nimport withSuspense from \"./hoc/withSuspense\";\r\nconst DialogsContainer = React.lazy(() =>\r\n  import(\"./components/Dialogs/DialogsContainer\")\r\n);\r\nconst ProfileContainer = React.lazy(() =>\r\n  import(\"./components/Profile/ProfileContainer\")\r\n);\r\n\r\nclass App extends Component {\r\n  componentDidMount() {\r\n    this.props.initializeApp();\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return <Preloader />;\r\n    }\r\n\r\n    return (\r\n      <div className=\"app-wrapper\">\r\n        <HeaderContainer />\r\n        <Navbar />\r\n        <div className=\"app-wrapper-content\">\r\n          <Route path=\"/dialogs\" render={withSuspense(DialogsContainer)} />\r\n          <Route\r\n            path=\"/profile/:userId?\"\r\n            render={withSuspense(ProfileContainer)}\r\n          />\r\n          <Route path=\"/users\" render={() => <UsersContainer />} />\r\n          <Route path=\"/login\" render={() => <LoginPage />} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  initialized: state.app.initialized\r\n});\r\n\r\nlet AppContainer = compose(\r\n  withRouter,\r\n  connect(\r\n    mapStateToProps,\r\n    { initializeApp }\r\n  )\r\n)(App);\r\n\r\nconst SamuraiJSApp = props => {\r\n  return (\r\n    <HashRouter>\r\n      <Provider store={store}>\r\n        <AppContainer />\r\n      </Provider>\r\n    </HashRouter>\r\n  );\r\n};\r\n\r\nexport default SamuraiJSApp;\r\n","import * as serviceWorker from \"./serviceWorker\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport SamuraiJSApp from \"./App\";\r\n\r\nReactDOM.render(<SamuraiJSApp />, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import React from \"react\";\r\nimport { Field } from \"redux-form\";\r\nimport styles from \"./FormControls.module.css\";\r\n\r\nconst FormControl = ({\r\n  input,\r\n  meta: { touched, error },\r\n  children,\r\n  element,\r\n  ...props\r\n}) => {\r\n  const has_error = touched && error;\r\n\r\n  return (\r\n    <div className={`${styles.form_control} ${has_error ? styles.error : \"\"}`}>\r\n      <div>{children}</div>\r\n      {has_error && <span>{error}</span>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Textarea = props => {\r\n  const { input, meta, ...restProps } = props;\r\n  return (\r\n    <FormControl {...props}>\r\n      <textarea {...input} {...restProps} />\r\n    </FormControl>\r\n  );\r\n};\r\n\r\nexport const Input = props => {\r\n  const { input, meta, ...restProps } = props;\r\n  return (\r\n    <FormControl {...props}>\r\n      <input {...input} {...restProps} />\r\n    </FormControl>\r\n  );\r\n};\r\n\r\nexport const createField = (\r\n  placeholder,\r\n  name,\r\n  validators,\r\n  component,\r\n  props = {},\r\n  text = \"\"\r\n) => (\r\n  <div>\r\n    <Field\r\n      placeholder={placeholder}\r\n      name={name}\r\n      validate={validators}\r\n      component={component}\r\n      {...props}\r\n    />\r\n    {text}\r\n  </div>\r\n);\r\n","import React from \"react\";\r\nimport preloader from \"../../../assets/img/preloader.svg\";\r\n\r\nlet Preloader = props => {\r\n  return <img src={preloader} />;\r\n};\r\n\r\nexport default Preloader;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form_control\":\"FormControls_form_control__hVi-p\",\"error\":\"FormControls_error__IcvV6\",\"form_summary_error\":\"FormControls_form_summary_error__2GZbF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__1BeIe\",\"pageNumber\":\"Paginator_pageNumber__1VXL8\",\"selectedPage\":\"Paginator_selectedPage__2vH9t\"};","export const required = value => {\r\n  if (value) return undefined;\r\n  return \"Field is required\";\r\n};\r\n\r\nexport const maxLengthCreator = maxLength => value => {\r\n  if (value && value.length > maxLength)\r\n    return `Max length is ${maxLength} symbols`;\r\n  return undefined;\r\n};\r\n","const SEND_MESSAGE = \"SEND-MESSAGE\";\r\n\r\nlet initialState = {\r\n  dialogs: [\r\n    { id: 1, name: \"Dimych\" },\r\n    { id: 2, name: \"Andrew\" },\r\n    { id: 3, name: \"User\" },\r\n    { id: 4, name: \"Test\" },\r\n    { id: 5, name: \"New User\" }\r\n  ],\r\n  messages: [\r\n    { id: 1, message: \"Hi\" },\r\n    { id: 2, message: \"How are you?\" },\r\n    { id: 3, message: \"Test\" }\r\n  ]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SEND_MESSAGE:\r\n      let body = action.newMessageBody;\r\n      return {\r\n        ...state,\r\n        messages: [\r\n          ...state.messages,\r\n          {\r\n            id: 5,\r\n            message: body\r\n          }\r\n        ]\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const sendMessageCreator = newMessageBody => ({\r\n  type: SEND_MESSAGE,\r\n  newMessageBody\r\n});\r\n\r\nexport default dialogsReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3l584\",\"login_block\":\"Header_login_block__3QOEl\"};","import { usersAPI, profileAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = \"ADD_POST\";\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nconst SET_STATUS = \"SET_STATUS\";\r\nconst DELETE_POST = \"DELETE_POST\";\r\n\r\nlet initialState = {\r\n  posts: [\r\n    { id: 1, message: \"Hi, how are you?\", likesCount: 15 },\r\n    { id: 2, message: \"It's my first post\", likesCount: 20 },\r\n    { id: 3, message: \"Lorem ipsum\", likesCount: 20 },\r\n    { id: 4, message: \"TEXT TEXT TEXT\", likesCount: 20 }\r\n  ],\r\n  profile: null,\r\n  status: \"\"\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST: {\r\n      let newPost = {\r\n        id: 5,\r\n        message: action.newPostText,\r\n        likesCount: 0\r\n      };\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, newPost],\r\n        newPostText: \"\"\r\n      };\r\n    }\r\n\r\n    case SET_STATUS: {\r\n      return {\r\n        ...state,\r\n        status: action.status\r\n      };\r\n    }\r\n\r\n    case SET_USER_PROFILE: {\r\n      return {\r\n        ...state,\r\n        profile: action.profile\r\n      };\r\n    }\r\n\r\n    case DELETE_POST: {\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter(p => p.id != action.post_id)\r\n      };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const addPostActionCreator = newPostText => ({\r\n  type: ADD_POST,\r\n  newPostText\r\n});\r\nexport const setUserProfile = profile => ({ type: SET_USER_PROFILE, profile });\r\nexport const setStatus = status => ({ type: SET_STATUS, status });\r\nexport const deletePost = post_id => ({ type: DELETE_POST, post_id });\r\n\r\nexport const getUserProfile = userId => async dispatch => {\r\n  let response = await profileAPI.getProfile(userId);\r\n  dispatch(setUserProfile(response.data));\r\n};\r\n\r\nexport const getStatus = userId => async dispatch => {\r\n  let response = await profileAPI.getStatus(userId);\r\n  dispatch(setStatus(response.data));\r\n};\r\n\r\nexport const updateStatus = status => async dispatch => {\r\n  let response = await profileAPI.updateStatus(status);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setStatus(status));\r\n  }\r\n};\r\n\r\nexport default profileReducer;\r\n"],"sourceRoot":""}